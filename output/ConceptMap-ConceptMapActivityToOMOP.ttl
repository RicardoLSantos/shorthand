@prefix fhir: <http://hl7.org/fhir/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

# - resource -------------------------------------------------------------------

<https://2rdoc.pt/ig/ios-lifestyle-medicine/ConceptMap/ConceptMapActivityToOMOP> a fhir:ConceptMap ;
  fhir:nodeRole fhir:treeRoot ;
  fhir:id [ fhir:v "ConceptMapActivityToOMOP"] ; # 
  fhir:text [
     fhir:status [ fhir:v "generated" ] ;
     fhir:div "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p class=\"res-header-id\"><b>Narrativa gerada: ConceptMap ConceptMapActivityToOMOP</b></p><a name=\"ConceptMapActivityToOMOP\"> </a><a name=\"hcConceptMapActivityToOMOP\"> </a><p>Mapeamento de (não especificado) para (não especificado)</p><br/><p><b>Grupo 1 </b>Mapeamento de <a href=\"http://terminology.hl7.org/6.5.0/CodeSystem-v3-loinc.html\">Logical Observation Identifiers, Names and Codes (LOINC)</a> to <a href=\"CodeSystem-omop-concepts-stub.html\">OHDSI OMOP CDM Concepts (External Reference)</a></p><table class=\"grid\"><tr><td><b>Código fonte</b></td><td><b>Relacionamento</b></td><td><b>Código de destino</b></td><td><b>Comentário</b></td></tr><tr><td>55423-8 (Number of steps in 24 hour Measured)</td><td><a href=\"http://hl7.org/fhir/R5/codesystem-concept-map-relationship.html#equivalent\" title=\"equivalent\">is equivalent to</a></td><td>40771089 (Number of steps)</td><td>VERIFIED OMOP mapping for daily steps.\n- OMOP concept_id: 40771089\n- Domain: Measurement\n- Unit_concept_id: 9529 (count) or unitless\n- Guidelines: 7,000-10,000 steps/day for health benefits</td></tr><tr><td>55411-3 (Exercise duration)</td><td><a href=\"http://hl7.org/fhir/R5/codesystem-concept-map-relationship.html#wider\" title=\"wider\">maps to wider concept</a></td><td>4272025 (Duration of procedure)</td><td>Maps to general duration concept.\n- OMOP concept_id: 4272025\n- Unit_concept_id: 8550 (minute)\n- Target: 150-300 min/week moderate or 75-150 min/week vigorous\nContext should indicate exercise vs general activity.</td></tr><tr><td>82290-8 (Frequency of moderate to vigorous aerobic physical activity)</td><td><a href=\"http://hl7.org/fhir/R5/codesystem-concept-map-relationship.html#wider\" title=\"wider\">maps to wider concept</a></td><td>4090484 (Physical activity)</td><td>Maps to general physical activity concept.\n- OMOP concept_id: 4090484\n- Domain: Observation\n- Use observation_source_value for intensity context</td></tr><tr><td>41981-2 (Calories burned)</td><td colspan=\"2\" style=\"background-color: #efefef\">(not mapped)</td><td style=\"background-color: #efefef\">GAP: Active calories has no OMOP concept.\nRepresents energy expenditure from activity.\nUnit_concept_id: 8692 (kilocalorie) or 8674 (kilojoule)\nCritical for weight management research.</td></tr><tr><td>55430-3 (Walking distance)</td><td colspan=\"2\" style=\"background-color: #efefef\">(not mapped)</td><td style=\"background-color: #efefef\">GAP: Distance traveled has no OMOP concept.\nUnit_concept_id: 8582 (meter) or 9314 (kilometer) or 9282 (mile)\nContext-dependent (walking, running, cycling).</td></tr></table><hr/><p><b>Grupo 2 </b>Mapeamento de <code>https://2rdoc.pt/ig/ios-lifestyle-medicine/CodeSystem/physical-activity-cs</code> to <a href=\"CodeSystem-omop-concepts-stub.html\">OHDSI OMOP CDM Concepts (External Reference)</a></p><table class=\"grid\"><tr><td><b>Código fonte</b></td><td><b>Relacionamento</b></td><td><b>Código de destino</b></td><td><b>Comentário</b></td></tr><tr><td>active-minutes</td><td colspan=\"2\" style=\"background-color: #efefef\">(not mapped)</td><td style=\"background-color: #efefef\">Vendor-specific active minutes (zone-based).\nApple: Exercise Ring minutes\nFitbit: Active Zone Minutes\nGarmin: Intensity Minutes\nNot standardized but clinically relevant.</td></tr><tr><td>met-minutes</td><td colspan=\"2\" style=\"background-color: #efefef\">(not mapped)</td><td style=\"background-color: #efefef\">Metabolic Equivalent of Task × Duration.\nStandard measure for physical activity dose.\n1 MET = 1 kcal/kg/hour (resting)\nTarget: 500-1000 MET-min/week per guidelines.</td></tr><tr><td>sedentary-time</td><td colspan=\"2\" style=\"background-color: #efefef\">(not mapped)</td><td style=\"background-color: #efefef\">Time spent in sedentary activities (&lt;1.5 METs).\nTarget: Reduce prolonged sitting, break every 30-60 min.\nIndependent risk factor for mortality.</td></tr><tr><td>floors-climbed</td><td colspan=\"2\" style=\"background-color: #efefef\">(not mapped)</td><td style=\"background-color: #efefef\">Number of floors/flights of stairs climbed.\nIndicates vertical displacement activity.\nTypically measured via barometric altimeter.</td></tr><tr><td>stand-hours</td><td colspan=\"2\" style=\"background-color: #efefef\">(not mapped)</td><td style=\"background-color: #efefef\">Apple Watch specific: Hours with at least 1 min standing.\nTarget: 12 stand hours/day.\nProxy for sedentary behavior interruption.</td></tr></table></div>"^^rdf:XMLLiteral
  ] ; # 
  fhir:url [ fhir:v "https://2rdoc.pt/ig/ios-lifestyle-medicine/ConceptMap/ConceptMapActivityToOMOP"^^xsd:anyURI] ; # 
  fhir:version [ fhir:v "0.1.0"] ; # 
  fhir:name [ fhir:v "ConceptMapActivityToOMOP"] ; # 
  fhir:title [ fhir:v "Physical Activity to OMOP CDM Mapping"] ; # 
  fhir:status [ fhir:v "active"] ; # 
  fhir:experimental [ fhir:v false] ; # 
  fhir:date [ fhir:v "2025-11-28"^^xsd:date] ; # 
  fhir:publisher [ fhir:v "Ricardo Lourenço dos Santos"] ; # 
  fhir:contact ( [
     fhir:name [ fhir:v "Ricardo Lourenço dos Santos" ] ;
     fhir:telecom ( [
       fhir:system [ fhir:v "url" ] ;
       fhir:value [ fhir:v "https://linktr.ee/ricardolsantos" ]
     ] )
  ] ) ; # 
  fhir:description [ fhir:v "Maps physical activity metrics from wearables to OMOP CDM concepts for federated analytics.\n\nPhysical Activity Guidelines (WHO 2020, ACSM):\n- 150-300 min/week moderate-intensity OR 75-150 min/week vigorous\n- Muscle-strengthening activities 2+ days/week\n- Sedentary time should be minimized\n- Any amount of activity is better than none\n\nKey Metrics:\n- Steps: 7,000-10,000 steps/day associated with health benefits\n- Active calories: Energy expenditure from activity\n- Exercise minutes: Zone-based activity time\n- MET-minutes: Metabolic equivalent of task\n\nSupported Devices:\n- Apple Watch, iPhone (Apple HealthKit)\n- Fitbit (all models)\n- Garmin (Connect IQ)\n- Samsung Galaxy Watch\n- Google Pixel Watch"] ; # 
  fhir:jurisdiction ( [
     fhir:coding ( [
       fhir:system [ fhir:v "http://unstats.un.org/unsd/methods/m49/m49.htm"^^xsd:anyURI ] ;
       fhir:code [ fhir:v "150" ] ;
       fhir:display [ fhir:v "Europe" ]
     ] )
  ] [
     fhir:coding ( [
       fhir:system [ fhir:v "http://unstats.un.org/unsd/methods/m49/m49.htm"^^xsd:anyURI ] ;
       fhir:code [ fhir:v "021" ] ;
       fhir:display [ fhir:v "Northern America a/" ]
     ] )
  ] [
     fhir:coding ( [
       fhir:system [ fhir:v "http://unstats.un.org/unsd/methods/m49/m49.htm"^^xsd:anyURI ] ;
       fhir:code [ fhir:v "005" ] ;
       fhir:display [ fhir:v "South America" ]
     ] )
  ] [
     fhir:coding ( [
       fhir:system [ fhir:v "urn:iso:std:iso:3166"^^xsd:anyURI ] ;
       fhir:code [ fhir:v "PT" ] ;
       fhir:display [ fhir:v "Portugal" ]
     ] )
  ] [
     fhir:coding ( [
       fhir:system [ fhir:v "urn:iso:std:iso:3166"^^xsd:anyURI ] ;
       fhir:code [ fhir:v "US" ] ;
       fhir:display [ fhir:v "United States of America" ]
     ] )
  ] [
     fhir:coding ( [
       fhir:system [ fhir:v "urn:iso:std:iso:3166"^^xsd:anyURI ] ;
       fhir:code [ fhir:v "BR" ] ;
       fhir:display [ fhir:v "Brazil" ]
     ] )
  ] ) ; # 
  fhir:purpose [ fhir:v "Enable ETL transformation of physical activity data from FHIR to OMOP CDM for population health studies, exercise intervention research, and lifestyle medicine analytics."] ; # 
  fhir:group ( [
     fhir:source [ fhir:v "http://loinc.org"^^xsd:anyURI ] ;
     fhir:target [ fhir:v "http://athena.ohdsi.org/search-terms/terms"^^xsd:anyURI ] ;
     fhir:element ( [
       fhir:code [ fhir:v "55423-8" ] ;
       fhir:display [ fhir:v "Number of steps in 24 hour Measured" ] ;
       fhir:target ( [
         fhir:code [ fhir:v "40771089" ] ;
         fhir:display [ fhir:v "Number of steps" ] ;
         fhir:equivalence [ fhir:v "equivalent" ] ;
         fhir:comment [ fhir:v "VERIFIED OMOP mapping for daily steps.\n- OMOP concept_id: 40771089\n- Domain: Measurement\n- Unit_concept_id: 9529 (count) or unitless\n- Guidelines: 7,000-10,000 steps/day for health benefits" ]
       ] )
     ] [
       fhir:code [ fhir:v "55411-3" ] ;
       fhir:display [ fhir:v "Exercise duration" ] ;
       fhir:target ( [
         fhir:code [ fhir:v "4272025" ] ;
         fhir:display [ fhir:v "Duration of procedure" ] ;
         fhir:equivalence [ fhir:v "wider" ] ;
         fhir:comment [ fhir:v "Maps to general duration concept.\n- OMOP concept_id: 4272025\n- Unit_concept_id: 8550 (minute)\n- Target: 150-300 min/week moderate or 75-150 min/week vigorous\nContext should indicate exercise vs general activity." ]
       ] )
     ] [
       fhir:code [ fhir:v "82290-8" ] ;
       fhir:display [ fhir:v "Frequency of moderate to vigorous aerobic physical activity" ] ;
       fhir:target ( [
         fhir:code [ fhir:v "4090484" ] ;
         fhir:display [ fhir:v "Physical activity" ] ;
         fhir:equivalence [ fhir:v "wider" ] ;
         fhir:comment [ fhir:v "Maps to general physical activity concept.\n- OMOP concept_id: 4090484\n- Domain: Observation\n- Use observation_source_value for intensity context" ]
       ] )
     ] [
       fhir:code [ fhir:v "41981-2" ] ;
       fhir:display [ fhir:v "Calories burned" ] ;
       fhir:target ( [
         fhir:equivalence [ fhir:v "unmatched" ] ;
         fhir:comment [ fhir:v "GAP: Active calories has no OMOP concept.\nRepresents energy expenditure from activity.\nUnit_concept_id: 8692 (kilocalorie) or 8674 (kilojoule)\nCritical for weight management research." ]
       ] )
     ] [
       fhir:code [ fhir:v "55430-3" ] ;
       fhir:display [ fhir:v "Walking distance" ] ;
       fhir:target ( [
         fhir:equivalence [ fhir:v "unmatched" ] ;
         fhir:comment [ fhir:v "GAP: Distance traveled has no OMOP concept.\nUnit_concept_id: 8582 (meter) or 9314 (kilometer) or 9282 (mile)\nContext-dependent (walking, running, cycling)." ]
       ] )
     ] ) ;
     fhir:unmapped [
       fhir:mode [ fhir:v "fixed" ] ;
       fhir:code [ fhir:v "0" ] ;
       fhir:display [ fhir:v "No OMOP concept - requires custom vocabulary extension" ]
     ]
  ] [
     fhir:source [ fhir:v "https://2rdoc.pt/ig/ios-lifestyle-medicine/CodeSystem/physical-activity-cs"^^xsd:anyURI ] ;
     fhir:target [ fhir:v "http://athena.ohdsi.org/search-terms/terms"^^xsd:anyURI ] ;
     fhir:element ( [
       fhir:code [ fhir:v "active-minutes" ] ;
       fhir:display [ fhir:v "Active Minutes" ] ;
       fhir:target ( [
         fhir:equivalence [ fhir:v "unmatched" ] ;
         fhir:comment [ fhir:v "Vendor-specific active minutes (zone-based).\nApple: Exercise Ring minutes\nFitbit: Active Zone Minutes\nGarmin: Intensity Minutes\nNot standardized but clinically relevant." ]
       ] )
     ] [
       fhir:code [ fhir:v "met-minutes" ] ;
       fhir:display [ fhir:v "MET-Minutes" ] ;
       fhir:target ( [
         fhir:equivalence [ fhir:v "unmatched" ] ;
         fhir:comment [ fhir:v "Metabolic Equivalent of Task × Duration.\nStandard measure for physical activity dose.\n1 MET = 1 kcal/kg/hour (resting)\nTarget: 500-1000 MET-min/week per guidelines." ]
       ] )
     ] [
       fhir:code [ fhir:v "sedentary-time" ] ;
       fhir:display [ fhir:v "Sedentary Time" ] ;
       fhir:target ( [
         fhir:equivalence [ fhir:v "unmatched" ] ;
         fhir:comment [ fhir:v "Time spent in sedentary activities (<1.5 METs).\nTarget: Reduce prolonged sitting, break every 30-60 min.\nIndependent risk factor for mortality." ]
       ] )
     ] [
       fhir:code [ fhir:v "floors-climbed" ] ;
       fhir:display [ fhir:v "Floors Climbed" ] ;
       fhir:target ( [
         fhir:equivalence [ fhir:v "unmatched" ] ;
         fhir:comment [ fhir:v "Number of floors/flights of stairs climbed.\nIndicates vertical displacement activity.\nTypically measured via barometric altimeter." ]
       ] )
     ] [
       fhir:code [ fhir:v "stand-hours" ] ;
       fhir:display [ fhir:v "Stand Hours" ] ;
       fhir:target ( [
         fhir:equivalence [ fhir:v "unmatched" ] ;
         fhir:comment [ fhir:v "Apple Watch specific: Hours with at least 1 min standing.\nTarget: 12 stand hours/day.\nProxy for sedentary behavior interruption." ]
       ] )
     ] ) ;
     fhir:unmapped [
       fhir:mode [ fhir:v "fixed" ] ;
       fhir:code [ fhir:v "0" ] ;
       fhir:display [ fhir:v "No OMOP concept - wearable metrics not in standard vocabulary" ]
     ]
  ] ) . # 

# -------------------------------------------------------------------------------------

