@prefix fhir: <http://hl7.org/fhir/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

# - resource -------------------------------------------------------------------

<https://2rdoc.pt/ig/ios-lifestyle-medicine/ConceptMap/ConceptMapSleepToLOINC> a fhir:ConceptMap ;
  fhir:nodeRole fhir:treeRoot ;
  fhir:id [ fhir:v "ConceptMapSleepToLOINC"] ; # 
  fhir:text [
     fhir:status [ fhir:v "generated" ] ;
     fhir:div "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p class=\"res-header-id\"><b>Narrativa gerada: ConceptMap ConceptMapSleepToLOINC</b></p><a name=\"ConceptMapSleepToLOINC\"> </a><a name=\"hcConceptMapSleepToLOINC\"> </a><p>Mapeamento de <a href=\"ValueSet-lifestyle-observation-vs.html\">Lifestyle Medicine Observation Value Set</a> para <a href=\"ValueSet-loinc-observations-vs.html\">LOINC Observation Codes for Lifestyle Medicine</a></p><br/><p><b>Grupo 1 </b>Mapeamento de <a href=\"CodeSystem-lifestyle-observation-cs.html\">Lifestyle Medicine Observation Codes</a> to <a href=\"http://terminology.hl7.org/6.5.0/CodeSystem-v3-loinc.html\">Logical Observation Identifiers, Names and Codes (LOINC)</a></p><table class=\"grid\"><tr><td colspan=\"2\"><b>Fonte Detalhes do conceito</b></td><td><b>Relacionamento</b></td><td colspan=\"2\"><b>Detalhes do conceito-alvo</b></td><td><b>Comentário</b></td></tr><tr><td colspan=\"2\"><b>Códigos</b> de <a href=\"CodeSystem-lifestyle-observation-cs.html\" title=\"https://2rdoc.pt/ig/ios-lifestyle-medicine/CodeSystem/lifestyle-observation-cs\">Lifestyle Medicine Observation Codes</a></td><td/><td colspan=\"2\"><b>Códigos</b> de <a href=\"http://terminology.hl7.org/6.5.0/CodeSystem-v3-loinc.html\" title=\"http://loinc.org\">Logical Observation Identifiers, Names and Codes (LOINC)</a></td><td/></tr><tr><td style=\"border-right-width: 0px; border-bottom-style: none\">sleep-panel</td><td style=\"border-left-width: 0px; border-bottom-style: none\">Sleep measurement panel</td><td><a href=\"http://hl7.org/fhir/R5/codesystem-concept-map-relationship.html#narrower\" title=\"narrower\">narrower</a></td><td style=\"border-right-width: 0px\">90568-7</td><td style=\"border-left-width: 0px\">Polysomnography panel</td><td>Sleep measurement panel from consumer devices maps to broader LOINC Polysomnography panel. Source is more specific (consumer device panel) than target (clinical polysomnography). LOINC 90568-7 contains terms from American Academy of Sleep Medicine (AASM) guidelines. Consumer devices measure subset of clinical polysomnography parameters.</td></tr><tr><td style=\"border-right-width: 0px; border-top-style: none\"/><td style=\"border-top-style: none; border-left-width: 0px\"/><td><a href=\"http://hl7.org/fhir/R5/codesystem-concept-map-relationship.html#wider\" title=\"wider\">maps to wider concept</a></td><td style=\"border-right-width: 0px\">82611-5</td><td style=\"border-left-width: 0px\">Wearable device external physiologic monitoring panel</td><td>Alternative mapping to general wearable device panel. Target is less specific (covers all wearable physiologic monitoring) than source (sleep-specific panel).</td></tr><tr><td style=\"border-right-width: 0px; border-bottom-style: none\">sleep-time-bed</td><td style=\"border-left-width: 0px\">Time in bed</td><td colspan=\"3\" style=\"background-color: #efefef\">(not mapped)</td><td style=\"background-color: #efefef\">No LOINC code available for 'Time in bed' as of November 2025. Time in bed is a distinct concept from 'Sleep duration' (LOINC 93832-4) - it includes time awake before falling asleep and after waking. Common consumer device metric (Apple HealthKit, Fitbit, Oura, etc.). Recommend submission to LOINC for standardization.</td></tr><tr><td style=\"border-right-width: 0px; border-bottom-style: none\">sleep-deep</td><td style=\"border-left-width: 0px\">Deep sleep duration</td><td colspan=\"3\" style=\"background-color: #efefef\">(not mapped)</td><td style=\"background-color: #efefef\">No LOINC code available for 'Deep sleep duration' (slow-wave sleep, N3 stage) as of November 2025. Consumer devices measure deep sleep using accelerometer + heart rate algorithms, not EEG. Clinical polysomnography uses EEG-defined N3 sleep stage. Terminology gap: consumer 'deep sleep' vs clinical 'N3/slow-wave sleep'. LOINC has codes for clinical polysomnography sleep stages but not consumer device equivalents.</td></tr><tr><td style=\"border-right-width: 0px; border-bottom-style: none\">sleep-light</td><td style=\"border-left-width: 0px\">Light sleep duration</td><td colspan=\"3\" style=\"background-color: #efefef\">(not mapped)</td><td style=\"background-color: #efefef\">No LOINC code available for 'Light sleep duration' (N1+N2 stages) as of November 2025. Consumer devices combine N1 and N2 sleep stages into 'light sleep' category. Clinical polysomnography separates N1 and N2. Terminology gap between consumer device simplification and clinical EEG-based staging. Widely used metric in Apple HealthKit, Fitbit, Oura Ring, Garmin wearables.</td></tr><tr><td style=\"border-right-width: 0px\">sleep-awakenings</td><td style=\"border-left-width: 0px\">Number of sleep awakenings</td><td><a href=\"http://hl7.org/fhir/R5/codesystem-concept-map-relationship.html#relatedto\" title=\"relatedto\">is related to</a></td><td style=\"border-right-width: 0px\">103215-0</td><td style=\"border-left-width: 0px\">Wake time after sleep onset</td><td>Sleep awakenings count is related to but distinct from 'Wake time after sleep onset' (LOINC 103215-0). Source measures NUMBER of awakenings (discrete count), target measures DURATION of wakefulness after initial sleep onset (time in minutes). Both concepts assess sleep fragmentation but from different perspectives. No exact LOINC match for awakening count exists as of November 2025.</td></tr></table></div>"^^rdf:XMLLiteral
  ] ; # 
  fhir:url [ fhir:v "https://2rdoc.pt/ig/ios-lifestyle-medicine/ConceptMap/ConceptMapSleepToLOINC"^^xsd:anyURI] ; # 
  fhir:version [ fhir:v "0.1.0"] ; # 
  fhir:name [ fhir:v "ConceptMapSleepToLOINC"] ; # 
  fhir:title [ fhir:v "Sleep Measurements to LOINC Mapping"] ; # 
  fhir:status [ fhir:v "active"] ; # 
  fhir:experimental [ fhir:v false] ; # 
  fhir:date [ fhir:v "2025-11-22"^^xsd:date] ; # 
  fhir:publisher [ fhir:v "Ricardo Lourenço dos Santos"] ; # 
  fhir:contact ( [
     fhir:name [ fhir:v "Ricardo Lourenço dos Santos" ] ;
     fhir:telecom ( [
       fhir:system [ fhir:v "url" ] ;
       fhir:value [ fhir:v "https://linktr.ee/ricardolsantos" ]
     ] )
  ] ) ; # 
  fhir:description [ fhir:v "Operational ConceptMap for sleep measurement terminology translation. Enables runtime $translate operations for semantic interoperability between consumer wearable device sleep data and LOINC standard terminology. Critical for integrating iOS Health App and other consumer sleep tracking platforms into EHR systems."] ; # 
  fhir:jurisdiction ( [
     fhir:coding ( [
       fhir:system [ fhir:v "http://unstats.un.org/unsd/methods/m49/m49.htm"^^xsd:anyURI ] ;
       fhir:code [ fhir:v "150" ] ;
       fhir:display [ fhir:v "Europe" ]
     ] )
  ] [
     fhir:coding ( [
       fhir:system [ fhir:v "http://unstats.un.org/unsd/methods/m49/m49.htm"^^xsd:anyURI ] ;
       fhir:code [ fhir:v "021" ] ;
       fhir:display [ fhir:v "Northern America a/" ]
     ] )
  ] [
     fhir:coding ( [
       fhir:system [ fhir:v "http://unstats.un.org/unsd/methods/m49/m49.htm"^^xsd:anyURI ] ;
       fhir:code [ fhir:v "005" ] ;
       fhir:display [ fhir:v "South America" ]
     ] )
  ] [
     fhir:coding ( [
       fhir:system [ fhir:v "urn:iso:std:iso:3166"^^xsd:anyURI ] ;
       fhir:code [ fhir:v "PT" ] ;
       fhir:display [ fhir:v "Portugal" ]
     ] )
  ] [
     fhir:coding ( [
       fhir:system [ fhir:v "urn:iso:std:iso:3166"^^xsd:anyURI ] ;
       fhir:code [ fhir:v "US" ] ;
       fhir:display [ fhir:v "United States of America" ]
     ] )
  ] [
     fhir:coding ( [
       fhir:system [ fhir:v "urn:iso:std:iso:3166"^^xsd:anyURI ] ;
       fhir:code [ fhir:v "BR" ] ;
       fhir:display [ fhir:v "Brazil" ]
     ] )
  ] ) ; # 
  fhir:purpose [ fhir:v "Provides semantic mappings from custom sleep measurement codes to standard LOINC codes. Sleep tracking from consumer devices (Apple Watch, Fitbit, Oura Ring, Garmin, etc.) uses proprietary measurements not fully covered by LOINC. This ConceptMap enables clinical decision support systems to interpret consumer sleep data using standardized terminology where available."] ; # 
  fhir:source [
     a fhir:canonical ;
     fhir:v "https://2rdoc.pt/ig/ios-lifestyle-medicine/ValueSet/lifestyle-observation-vs"^^xsd:anyURI ;
     fhir:link <https://2rdoc.pt/ig/ios-lifestyle-medicine/ValueSet/lifestyle-observation-vs>
  ] ; # 
  fhir:target [
     a fhir:canonical ;
     fhir:v "https://2rdoc.pt/ig/ios-lifestyle-medicine/ValueSet/loinc-observations-vs"^^xsd:anyURI ;
     fhir:link <https://2rdoc.pt/ig/ios-lifestyle-medicine/ValueSet/loinc-observations-vs>
  ] ; # 
  fhir:group ( [
     fhir:source [ fhir:v "https://2rdoc.pt/ig/ios-lifestyle-medicine/CodeSystem/lifestyle-observation-cs"^^xsd:anyURI ] ;
     fhir:target [ fhir:v "http://loinc.org"^^xsd:anyURI ] ;
     fhir:element ( [
       fhir:code [ fhir:v "sleep-panel" ] ;
       fhir:display [ fhir:v "Sleep measurement panel" ] ;
       fhir:target ( [
         fhir:code [ fhir:v "90568-7" ] ;
         fhir:display [ fhir:v "Polysomnography panel" ] ;
         fhir:equivalence [ fhir:v "narrower" ] ;
         fhir:comment [ fhir:v "Sleep measurement panel from consumer devices maps to broader LOINC Polysomnography panel. Source is more specific (consumer device panel) than target (clinical polysomnography). LOINC 90568-7 contains terms from American Academy of Sleep Medicine (AASM) guidelines. Consumer devices measure subset of clinical polysomnography parameters." ]
       ] [
         fhir:code [ fhir:v "82611-5" ] ;
         fhir:display [ fhir:v "Wearable device external physiologic monitoring panel" ] ;
         fhir:equivalence [ fhir:v "wider" ] ;
         fhir:comment [ fhir:v "Alternative mapping to general wearable device panel. Target is less specific (covers all wearable physiologic monitoring) than source (sleep-specific panel)." ]
       ] )
     ] [
       fhir:code [ fhir:v "sleep-time-bed" ] ;
       fhir:display [ fhir:v "Time in bed" ] ;
       fhir:target ( [
         fhir:equivalence [ fhir:v "unmatched" ] ;
         fhir:comment [ fhir:v "No LOINC code available for 'Time in bed' as of November 2025. Time in bed is a distinct concept from 'Sleep duration' (LOINC 93832-4) - it includes time awake before falling asleep and after waking. Common consumer device metric (Apple HealthKit, Fitbit, Oura, etc.). Recommend submission to LOINC for standardization." ]
       ] )
     ] [
       fhir:code [ fhir:v "sleep-deep" ] ;
       fhir:display [ fhir:v "Deep sleep duration" ] ;
       fhir:target ( [
         fhir:equivalence [ fhir:v "unmatched" ] ;
         fhir:comment [ fhir:v "No LOINC code available for 'Deep sleep duration' (slow-wave sleep, N3 stage) as of November 2025. Consumer devices measure deep sleep using accelerometer + heart rate algorithms, not EEG. Clinical polysomnography uses EEG-defined N3 sleep stage. Terminology gap: consumer 'deep sleep' vs clinical 'N3/slow-wave sleep'. LOINC has codes for clinical polysomnography sleep stages but not consumer device equivalents." ]
       ] )
     ] [
       fhir:code [ fhir:v "sleep-light" ] ;
       fhir:display [ fhir:v "Light sleep duration" ] ;
       fhir:target ( [
         fhir:equivalence [ fhir:v "unmatched" ] ;
         fhir:comment [ fhir:v "No LOINC code available for 'Light sleep duration' (N1+N2 stages) as of November 2025. Consumer devices combine N1 and N2 sleep stages into 'light sleep' category. Clinical polysomnography separates N1 and N2. Terminology gap between consumer device simplification and clinical EEG-based staging. Widely used metric in Apple HealthKit, Fitbit, Oura Ring, Garmin wearables." ]
       ] )
     ] [
       fhir:code [ fhir:v "sleep-awakenings" ] ;
       fhir:display [ fhir:v "Number of sleep awakenings" ] ;
       fhir:target ( [
         fhir:code [ fhir:v "103215-0" ] ;
         fhir:display [ fhir:v "Wake time after sleep onset" ] ;
         fhir:equivalence [ fhir:v "relatedto" ] ;
         fhir:comment [ fhir:v "Sleep awakenings count is related to but distinct from 'Wake time after sleep onset' (LOINC 103215-0). Source measures NUMBER of awakenings (discrete count), target measures DURATION of wakefulness after initial sleep onset (time in minutes). Both concepts assess sleep fragmentation but from different perspectives. No exact LOINC match for awakening count exists as of November 2025." ]
       ] )
     ] )
  ] ) . # 

# -------------------------------------------------------------------------------------

